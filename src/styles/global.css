@import 'tailwindcss';
@plugin "@tailwindcss/typography";
@plugin "tailwindcss-animate";

@custom-variant dark (&:where(.dark, .dark *));

@theme {
  --font-mono: 'JetBrains Mono', ui-monospace, SFMono-Regular, Menlo, Monaco,
    Consolas, monospace;
}

@layer base {
  :root {
    --terminal-bg: #0a0a0a;
    --terminal-fg: #e5e5e5;
    --terminal-dim: #6b7280;
    --terminal-accent: #22c55e;
    --terminal-error: #ef4444;
  }

  .light {
    --terminal-bg: #ffffff;
    --terminal-fg: #1a1a1a;
    --terminal-dim: #6b7280;
    --terminal-accent: #16a34a;
    --terminal-error: #dc2626;
  }

  html {
    @apply scroll-smooth;
    background-color: var(--color-neutral-100);
  }

  html.dark {
    background-color: oklch(20.5% 0 0);
  }

  body {
    @apply font-mono text-sm leading-relaxed antialiased;
    @apply text-neutral-800 dark:text-neutral-300;
    background-color: var(--terminal-bg);
  }

  ::selection {
    @apply bg-green-500/30 text-green-200 dark:text-green-200;
  }

  ::-webkit-scrollbar {
    @apply w-2;
  }

  ::-webkit-scrollbar-track {
    @apply bg-neutral-900;
  }

  ::-webkit-scrollbar-thumb {
    @apply rounded-none border-2 border-neutral-900 bg-neutral-700;
  }

  .light ::-webkit-scrollbar-track {
    @apply bg-neutral-200;
  }

  .light ::-webkit-scrollbar-thumb {
    @apply border-neutral-200 bg-neutral-400;
  }

  :focus-visible {
    @apply outline-2 outline-offset-2 outline-green-500;
  }
}

.cursor-blink::after {
  content: 'â–‹';
  animation: blink 1s step-start infinite;
  @apply ml-1 text-green-500;
}

@keyframes blink {
  50% {
    opacity: 0;
  }
}

.prose {
  @apply max-w-none leading-relaxed text-neutral-900 dark:text-neutral-300;
}

.prose > * + * {
  @apply mt-5;
}

.prose h2 {
  @apply mb-4 mt-10 border-b border-neutral-300 pb-2 text-xl font-bold text-neutral-900 dark:border-neutral-800 dark:text-neutral-100;
}

.prose h3 {
  @apply mb-3 mt-8 text-lg font-semibold text-neutral-900 dark:text-neutral-100;
}

.prose p {
  @apply leading-relaxed;
}

.prose a {
  @apply text-green-600 underline decoration-green-600/30 underline-offset-2 transition-colors hover:decoration-green-600/60 dark:text-green-400 dark:decoration-green-500/30 dark:hover:decoration-green-400/60;
}

.prose strong {
  @apply font-semibold text-neutral-900 dark:text-neutral-200;
}

.prose code {
  @apply rounded bg-neutral-200 px-1.5 py-0.5 text-sm text-green-700 dark:bg-neutral-800 dark:text-green-400;
}

.prose pre {
  @apply my-6 overflow-x-auto rounded-lg border border-neutral-300 bg-neutral-100 p-4 dark:border-neutral-800 dark:bg-neutral-900;
}

.prose pre code {
  @apply bg-transparent p-0 text-sm;
}

.prose ul,
.prose ol {
  @apply my-4 space-y-2 pl-5;
}

.prose li {
  @apply text-neutral-900 dark:text-neutral-300;
}

.prose li::marker {
  @apply text-green-600 dark:text-green-500;
}

.prose blockquote {
  @apply my-6 border-l-2 border-green-600/50 pl-4 italic text-neutral-800 dark:border-green-500/50 dark:text-neutral-400;
}

.prose img {
  @apply my-8 rounded-lg border border-neutral-300 dark:border-neutral-800;
}

.prose hr {
  @apply my-8 border-neutral-300 dark:border-neutral-800;
}

@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    transition-duration: 0.01ms !important;
  }
}
